# thread pool

## thread pool 优点
1. 需要处理大量的并发任务时，如果按照传统的方式，一个请求一个线程来处理请求任务，大量的线程创建和销毁会消耗过多的系统资源，增加了线程上下文切换的开销。
2. 线程池技术可以很好地解决这些问题：
    1. 在系统中预先创建一定数量地线程
    2. 任务请求到来的时候，从线程池中分配一个预先创建的线程去处理任务
    3. 线程处理完任务之后不会销毁，而是重复利用，等下一个任务请求到来
3. 避免了线程创建、销毁的开销
4. 多核处理器上，线程被分配到多个cpu，因此可以提高并行处理的效率
5. 每一个线程独立阻塞，可以防止主线程被block而导致主流程被block，导致别的请求得不到响应 

## 线程池分类
1. 半同步半异步线程池
2. 领导者追随者线程池

## 需要考虑的问题
1. 如果排队过长？（任务多且耗时，异步层线程处理不过来）
- 同步排队层不做上线控制，那么任务队列会很长，内存暴涨